# ğŸ¯ Form Äáº·t HÃ ng NÃ¢ng Cao - TÃ­nh NÄƒng & HÆ°á»›ng Dáº«n

## âœ¨ CÃ¡c TÃ­nh NÄƒng Má»›i

### 1. ğŸ“… NgÃ y Giao HÃ ng Tá»± Äá»™ng

- Input date tá»± Ä‘á»™ng chá»n ngÃ y hiá»‡n táº¡i
- KhÃ´ng cho phÃ©p chá»n ngÃ y trong quÃ¡ khá»©
- KhÃ¡ch cÃ³ thá»ƒ chá»n ngÃ y giao hÃ ng muá»‘n

### 2. â° Giá» Giao HÃ ng

- Input time cho phÃ©p chá»n khung giá» mong muá»‘n
- Há»— trá»£ tá»« 08:00 - 20:00 (khuyáº¿n khÃ­ch)
- TÃ¹y chá»n (khÃ´ng báº¯t buá»™c)

### 3. ğŸ›’ Giá» HÃ ng Äá»™ng

- **ThÃªm sáº£n pháº©m:** Chá»n hoa lan + sá»‘ lÆ°á»£ng â†’ Click "ThÃªm Sáº£n Pháº©m"
- **Xem danh sÃ¡ch:** Hiá»ƒn thá»‹ báº£ng vá»›i sáº£n pháº©m Ä‘Ã£ chá»n
- **Chá»‰nh sá»­a sá»‘ lÆ°á»£ng:** Nháº­p sá»‘ lÆ°á»£ng má»›i trá»±c tiáº¿p
- **XÃ³a sáº£n pháº©m:** Click nÃºt xÃ³a bÃªn cáº¡nh sáº£n pháº©m
- **TÃ­nh tá»•ng tiá»n:** Tá»± Ä‘á»™ng cáº­p nháº­t khi thÃªm/xÃ³a/sá»­a

### 4. ğŸ“± PhÆ°Æ¡ng Thá»©c ThÃ´ng BÃ¡o

KhÃ¡ch hÃ ng cÃ³ thá»ƒ chá»n cÃ¡ch Ä‘Æ°á»£c thÃ´ng bÃ¡o:

- âœ… **SMS** (máº·c Ä‘á»‹nh báº­t) - Tin nháº¯n text nhanh
- âœ… **Email** (máº·c Ä‘á»‹nh báº­t) - Email chi tiáº¿t Ä‘Æ¡n hÃ ng
- â˜ **Gá»i Äiá»‡n** (tÃ¹y chá»n) - XÃ¡c nháº­n qua cuá»™c gá»i

### 5. ğŸš€ Gá»­i ThÃ´ng BÃ¡o Äa KÃªnh

- Email xÃ¡c nháº­n cho khÃ¡ch hÃ ng
- Email thÃ´ng bÃ¡o cho admin
- SMS xÃ¡c nháº­n (náº¿u cáº¥u hÃ¬nh)
- Gá»i Ä‘iá»‡n xÃ¡c nháº­n (náº¿u cáº¥u hÃ¬nh)
- Webhook Ä‘áº¿n há»‡ thá»‘ng backend/CRM

---

## ğŸ“± Giao Diá»‡n Form

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ“¦ Äáº¶T HÃ€NG HOA LAN                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ThÃ´ng Tin KhÃ¡ch HÃ ng:                       â”‚
â”‚ [TÃªn cá»§a báº¡n] [Email] [Sá»‘ Ä‘iá»‡n thoáº¡i]      â”‚
â”‚                                             â”‚
â”‚ NgÃ y & Giá» Giao HÃ ng:                       â”‚
â”‚ [NgÃ y giao (auto: hÃ´m nay)] [Giá» giao]    â”‚
â”‚                                             â”‚
â”‚ Chá»n Sáº£n Pháº©m:                              â”‚
â”‚ [-- Chá»n hoa lan --] [Sá»‘ lÆ°á»£ng] [ThÃªm â•] â”‚
â”‚                                             â”‚
â”‚ Sáº£n Pháº©m ÄÃ£ Chá»n:                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Sáº£n Pháº©m | GiÃ¡  | Sá»‘ LÆ°á»£ng | ThÃ nh T... â”‚ â”‚
â”‚ â”‚ Lan Phalaenopsis | 399k | 2 | 798k  [âœ–] â”‚ â”‚
â”‚ â”‚ Lan Cattleya | 599k | 1 | 599k  [âœ–]    â”‚ â”‚
â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚ â”‚ Tá»•ng tiá»n: 1.397.000Ä‘                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                             â”‚
â”‚ Ghi chÃº thÃªm (tÃ¹y chá»n):                    â”‚
â”‚ [Nháº­p ghi chÃº...]                           â”‚
â”‚                                             â”‚
â”‚ PhÆ°Æ¡ng thá»©c thÃ´ng bÃ¡o:                      â”‚
â”‚ âœ… SMS (Nhanh nháº¥t)                         â”‚
â”‚ âœ… Email xÃ¡c nháº­n                           â”‚
â”‚ â˜ Gá»i Ä‘iá»‡n xÃ¡c nháº­n                        â”‚
â”‚                                             â”‚
â”‚ [ğŸš€ Äáº¶T HÃ€NG NGAY]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ Quy TrÃ¬nh Sá»­ Dá»¥ng

### BÆ°á»›c 1: Nháº­p ThÃ´ng Tin KhÃ¡ch HÃ ng

1. Nháº­p tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i
2. NgÃ y giao hÃ ng Ä‘Ã£ Ä‘Æ°á»£c set máº·c Ä‘á»‹nh (ngÃ y hÃ´m nay)
3. Chá»n giá» giao hÃ ng (tÃ¹y chá»n)

### BÆ°á»›c 2: Chá»n Sáº£n Pháº©m

1. Click dropdown "Chá»n hoa lan"
2. Chá»n má»™t sáº£n pháº©m (vÃ­ dá»¥: "Lan Phalaenopsis - 399.000Ä‘")
3. Nháº­p sá»‘ lÆ°á»£ng (hoáº·c máº·c Ä‘á»‹nh 1)
4. Click "ThÃªm Sáº£n Pháº©m" â•

### BÆ°á»›c 3: Quáº£n LÃ½ Giá» HÃ ng

1. **Xem danh sÃ¡ch:** Sáº£n pháº©m xuáº¥t hiá»‡n trong báº£ng dÆ°á»›i
2. **Chá»‰nh sá»­a:** Thay Ä‘á»•i sá»‘ lÆ°á»£ng trá»±c tiáº¿p trong cá»™t "Sá»‘ LÆ°á»£ng"
3. **XÃ³a:** Click nÃºt âœ–ï¸ Ä‘á»ƒ xÃ³a sáº£n pháº©m
4. **TÃ­nh toÃ¡n:** Tá»•ng tiá»n cáº­p nháº­t tá»± Ä‘á»™ng

### BÆ°á»›c 4: ThÃªm Ghi ChÃº (TÃ¹y Chá»n)

- Viáº¿t yÃªu cáº§u Ä‘áº·c biá»‡t (vÃ­ dá»¥: "Giao vÃ o buá»•i sÃ¡ng", "GÃ³i quÃ ")

### BÆ°á»›c 5: Chá»n PhÆ°Æ¡ng Thá»©c ThÃ´ng BÃ¡o

- Máº·c Ä‘á»‹nh: SMS + Email (nÃªn báº­t cáº£ hai)
- TÃ¹y chá»n: Gá»i Ä‘iá»‡n xÃ¡c nháº­n

### BÆ°á»›c 6: Äáº·t HÃ ng

1. Kiá»ƒm tra láº¡i thÃ´ng tin
2. Click "Äáº¶T HÃ€NG NGAY" ğŸš€
3. Chá» xÃ¡c nháº­n

---

## ğŸ”„ Quy TrÃ¬nh Backend

```
â”Œâ”€ KhÃ¡ch hÃ ng submit form
â”‚
â”œâ”€ Validate dá»¯ liá»‡u
â”‚  â”œâ”€ Kiá»ƒm tra khÃ¡ch hÃ ng
â”‚  â”œâ”€ Kiá»ƒm tra sáº£n pháº©m (Ã­t nháº¥t 1 cÃ¡i)
â”‚  â”œâ”€ Kiá»ƒm tra ngÃ y/giá»
â”‚
â”œâ”€ Gá»­i thÃ´ng bÃ¡o Ä‘a kÃªnh
â”‚  â”œâ”€ ğŸ“§ Email cho khÃ¡ch hÃ ng (process-order.php)
â”‚  â”œâ”€ ğŸ“§ Email cho admin (process-order.php)
â”‚  â”œâ”€ ğŸ“± SMS (send-sms.php) - náº¿u cáº¥u hÃ¬nh
â”‚  â”œâ”€ â˜ï¸  Gá»i Ä‘iá»‡n (schedule-call.php) - náº¿u cáº¥u hÃ¬nh
â”‚  â””â”€ ğŸ”— Webhook (process-order.php)
â”‚
â”œâ”€ LÆ°u dá»¯ liá»‡u
â”‚  â”œâ”€ Log file (orders.log)
â”‚  â””â”€ Database (náº¿u cÃ³)
â”‚
â””â”€ Tráº£ vá» káº¿t quáº£ cho client
   â”œâ”€ Hiá»ƒn thá»‹ tin nháº¯n thÃ nh cÃ´ng
   â”œâ”€ Gá»£i Ã½ cÃ¡c bÆ°á»›c tiáº¿p theo
   â””â”€ Reset form
```

---

## ğŸ“Š Cáº¥u TrÃºc Dá»¯ Liá»‡u Gá»­i

### JSON Data Format

```json
{
  "name": "Nguyá»…n VÄƒn A",
  "email": "nguyenvana@gmail.com",
  "phone": "0377765415",
  "deliveryDate": "2026-02-12",
  "deliveryTime": "09:00",
  "products": [
    {
      "id": "1",
      "name": "Phalaenopsis Äá» TÆ°Æ¡i",
      "price": 399000,
      "quantity": 2,
      "categoryId": "phalaenopsis",
      "image": "menu-item-1.png"
    },
    {
      "id": "4",
      "name": "Cattleya VÃ ng áº¤m",
      "price": 599000,
      "quantity": 1,
      "categoryId": "cattleya",
      "image": "menu-item-4.png"
    }
  ],
  "message": "Giao vÃ o buá»•i sÃ¡ng, gÃ³i quÃ  Ä‘áº¹p",
  "notificationMethods": {
    "sms": true,
    "email": true,
    "phone": false
  },
  "totalPrice": 1397000,
  "timestamp": "2026-02-10T15:30:45.123Z"
}
```

---

## ğŸ› ï¸ Files LiÃªn Quan

### Frontend

- **index.html** - Form HTML (lines 435-528)
- **assets/js/order-form.js** - Xá»­ lÃ½ form + giá» hÃ ng + validation
- **assets/js/products.js** - Load sáº£n pháº©m tá»« JSON

### Backend

- **forms/process-order.php** - Xá»­ lÃ½ Ä‘Æ¡n hÃ ng, gá»­i webhook
- **forms/send-order-email.php** - Gá»­i email xÃ¡c nháº­n
- **forms/send-sms.php** - Gá»­i SMS (cáº§n cáº¥u hÃ¬nh)
- **forms/schedule-call.php** - LÃªn lá»‹ch gá»i Ä‘iá»‡n (cáº§n cáº¥u hÃ¬nh)

### Data

- **assets/data/products.json** - Danh sÃ¡ch sáº£n pháº©m
- **orders.log** - Log táº¥t cáº£ Ä‘Æ¡n hÃ ng
- **sms.log** - Log SMS gá»­i
- **calls.log** - Log gá»i Ä‘iá»‡n

---

## âš™ï¸ Cáº¥u HÃ¬nh ThÃªm

### 1. Email Configuration

- File: `forms/process-order.php` (line ~60-100)
- Thay Ä‘á»•i `$adminEmail` Ä‘á»ƒ nháº­n email admin

### 2. SMS Configuration

- File: `forms/send-sms.php`
- Báº­t flag: `$USE_TWILIO = true` hoáº·c `$USE_CUSTOM_SMS = true`
- Nháº­p credentials (API key, phone number, etc.)

### 3. Phone Call Configuration

- File: `forms/schedule-call.php`
- Báº­t flag: `$USE_TWILIO_VOICE = true`
- Nháº­p credentials

---

## ğŸ§ª Test Form

### Test Data

```
TÃªn: Nguyá»…n VÄƒn Test
Email: test@example.com
Sá»‘ Ä‘iá»‡n thoáº¡i: 0999999999
NgÃ y giao: 2026-02-12 (default: hÃ´m nay)
Giá» giao: 10:00
Sáº£n pháº©m:
  - Lan Phalaenopsis x 2
  - Lan Cattleya x 1
Ghi chÃº: Test Ä‘Æ¡n hÃ ng
ThÃ´ng bÃ¡o: SMS + Email
```

### Expected Response

```json
{
  "success": true,
  "orderId": "ORD-20260210153045-abc123",
  "message": "ÄÆ¡n hÃ ng Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng",
  "data": {
    "orderId": "ORD-20260210153045-abc123",
    "createdAt": "2026-02-10 15:30:45"
  }
}
```

---

## ğŸ¯ Tiáº¿p Theo

### Ngáº¯n Háº¡n

- [ ] Test form trÃªn desktop/mobile
- [ ] Kiá»ƒm tra email gá»­i Ä‘i
- [ ] XÃ¡c nháº­n backend logs
- [ ] Kiá»ƒm tra hiá»ƒn thá»‹ lá»—i

### Trung Háº¡n

- [ ] Cáº¥u hÃ¬nh SMS (náº¿u cáº§n)
- [ ] Cáº¥u hÃ¬nh gá»i Ä‘iá»‡n (náº¿u cáº§n)
- [ ] TÃ­ch há»£p database
- [ ] ThÃªm dashboard quáº£n lÃ½ Ä‘Æ¡n hÃ ng

### DÃ i Háº¡n

- [ ] TÃ­ch há»£p payment gateway (Stripe, VNPay)
- [ ] Táº¡o trang theo dÃµi Ä‘Æ¡n hÃ ng
- [ ] TÃ­ch há»£p CRM/ERP
- [ ] Analytics & reporting
